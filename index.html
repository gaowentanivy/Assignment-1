<html lang="en">
<head>
	<style>	
		textarea {
		  width: 100%;
		}

		li {
			font-size: 30px;
		}

		.pink {
			color: pink;
		}

		.green {
			color: green;
		}

		.orange {
			color: orange;
		}
		.completed { 
			text-decoration: line-through;opacity: 0.5;
		}

	</style>
</head>

<body>
	<textarea id="text" rows="3">Dinner, 1; Exercise, 2; Study, 3</textarea> 
	<br/>
	<div class="divButton">
		<button id="btn_add">Add</button>
		<button id="btn_hide">Toggle</button>
	</div>

	<ol id="order_list"></ol>	
</body>
<script>
	const addBtn = document.getElementById("btn_add");
	const toggleBtn = document.getElementById("btn_hide");
	const textarea = document.getElementById("text");
	const list = document.getElementById("order_list");

	let hideCompleted = false; 

	addBtn.addEventListener("click", () => {
		const input = textarea.value;
		const items = input.split(";");

		items.forEach(item => {
			if (item.trim() === "") return;

			const parts = item.split(",");
			if (parts.length !== 2) return;

			const taskContent = parts[0].trim();
			const category = parts[1].trim();

			const li = document.createElement("li");
			li.textContent = taskContent;

			if (category === "1") li.className = "pink";
			else if (category === "2") li.className = "green";
			else if (category === "3") li.className = "orange";

			li.addEventListener("click", () => {
				li.classList.toggle("completed");

				if (hideCompleted && li.classList.contains("completed")) {
					li.style.display = "none";
				} else {
					li.style.display = "list-item";
				}
			});

			li.addEventListener("dblclick", () => {
				li.remove();
			});

			list.appendChild(li);
		});
	});

	toggleBtn.addEventListener("click", () => {
		hideCompleted = !hideCompleted;

		const tasks = document.querySelectorAll("#order_list li");
		tasks.forEach(li => {
			if (li.classList.contains("completed")) {
				li.style.display = hideCompleted ? "none" : "list-item";
			}
		});
	});
</script>
</html>
